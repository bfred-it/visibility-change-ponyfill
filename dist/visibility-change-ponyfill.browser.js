var onVisibilityChange=function(){"use strict";function n(n,e){var i=n();var r=void 0;return{verify:function t(){r=n();if(r!==i){e(r,i);i=r}}}}var e=[];var i=void 0;function r(){return document.hidden}var t=n(r,function(){return e.forEach(function(n){return setTimeout(n,0)})});function v(){if(!i){i=setInterval(t.verify,333)}}function o(){if(!e.length){i=clearInterval(i)}}function f(i){var t=n(r,i);document.addEventListener("visibilitychange",t.verify);e.push(t.verify);v();var f=function u(){e=e.filter(function(n){return n!==t.verify});document.removeEventListener("visibilitychange",t.verify);o()};t.verify.remove=f;return{remove:f}}f.removeAll=function(){e.forEach(function(n){n.remove()});e.length=0;o()};return f}();
