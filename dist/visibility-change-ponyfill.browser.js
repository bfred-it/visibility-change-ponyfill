var onVisibilityChange=function(){"use strict";function n(n,t){var i=n();var e=void 0;return function(){e=n();if(e!==i){t(e,i);i=e}}}var t=[];var i=void 0;var e=n(function(){return document.hidden},function(){t.forEach(setTimeout)});function r(){if(!i){i=setInterval(e,333);document.addEventListener("visibilitychange",e)}}function o(){if(!t.length){i=clearInterval(i);document.removeEventListener("visibilitychange",e)}}function u(n){t.push(n);r()}u.remove=function(n){t=t.filter(function(t){return t!==n});o()};u.removeAll=function(){t.length=0;o()};return u}();
