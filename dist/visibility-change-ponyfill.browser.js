var onVisibilityChange=function(){"use strict";function n(n,e){var i=n();var r=void 0;return{verify:function t(){r=n();if(r!==i){e(r,i);i=r}}}}var e=[];var i=void 0;function r(){return document.hidden}function t(n){try{n()}catch(e){}}var v=n(r,function(){e.forEach(t)});function f(){if(!i){i=setInterval(v.verify,333)}}function o(){if(!e.length){i=clearInterval(i)}}function c(i){var t=n(r,i);document.addEventListener("visibilitychange",t.verify);e.push(t.verify);f();var v=function c(){e=e.filter(function(n){return n!==t.verify});document.removeEventListener("visibilitychange",t.verify);o()};t.verify.remove=v;return{remove:v}}c.removeAll=function(){e.forEach(function(n){n.remove()});e.length=0;o()};return c}();
